# Example configuration for CT.gov Trial Watch (MVP)

pipeline:
  # Focus on trials whose primary completion date is within this window (days)
  readout_window_days: 180

  # Also flag trials whose primary completion date is within this many days in the past
  # (often "just completed" trials are high-value to commission quickly)
  recently_completed_days: 120

  # Limit how many pages to pull per topic in a single run (safety valve)
  max_pages_per_topic: 10

  # Polite throttling between CT.gov API calls (seconds)
  ctgov_sleep_seconds: 0.25

  # Export options
  export_excel: true
  export_csv: true

pubmed:
  enabled: true
  # NCBI asks that larger applications include tool + email so they can contact you if needed.
  # Set these to something identifying (and an email you monitor).
  tool: "ctgov-trial-watch"
  email: "example@gmail.com"

  # Polite throttling between PubMed API calls (seconds)
  # NCBI guidance: do not exceed ~3 requests/sec.
  sleep_seconds: 0.4

  # Only check PubMed for trials that look "actionable" (soon-to-readout / recently completed)
  actionable_only: true

  # Safety valve: cap number of NCT IDs checked per run
  max_trials_per_run: 200

topics:
  - name: "Heart Failure"
    ctgov_params:
      query.cond: "heart failure"
      filter.overallStatus: "RECRUITING,ACTIVE_NOT_RECRUITING,COMPLETED"
      sort: "LastUpdatePostDate:desc"
      pageSize: 200
      format: "json"
    tag_keywords: ["heart failure", "HFpEF", "HFrEF"]
    interesting_keywords:
      - keyword: "SGLT2"
        weight: 10
      - keyword: "GLP-1"
        weight: 8
      - keyword: "device"
        weight: 4

  - name: "Lung Cancer"
    ctgov_params:
      query.cond: "lung cancer"
      filter.overallStatus: "RECRUITING,ACTIVE_NOT_RECRUITING,COMPLETED"
      sort: "LastUpdatePostDate:desc"
      pageSize: 200
      format: "json"
    tag_keywords: ["NSCLC", "SCLC", "PD-1", "PD-L1", "EGFR", "ALK"]
    interesting_keywords:
      - keyword: "ADC"
        weight: 10
      - keyword: "bispecific"
        weight: 8
      - keyword: "KRAS"
        weight: 8

  - name: "Dementia"
    ctgov_params:
      query.cond: "Alzheimer"
      filter.overallStatus: "RECRUITING,ACTIVE_NOT_RECRUITING,COMPLETED"
      sort: "LastUpdatePostDate:desc"
      pageSize: 200
      format: "json"
    tag_keywords: ["Alzheimer", "dementia", "amyloid", "tau"]
    interesting_keywords:
      - keyword: "anti-amyloid"
        weight: 8
      - keyword: "tau"
        weight: 6
      - keyword: "digital"
        weight: 4
        
  - name: "MASLD"
    ctgov_params:
      query.cond: "MASLD"
      filter.overallStatus: "RECRUITING,ACTIVE_NOT_RECRUITING,COMPLETED"
      sort: "LastUpdatePostDate:desc"
      pageSize: 200
      format: "json"
    tag_keywords: ["MASLD", "NAFLD", "MASH", "NASH"]
    interesting_keywords:
      - keyword: "metabolic-dysfunction associated"
        weight: 10
      - keyword: "steatotic liver"
        weight: 10
      - keyword: "non-alcoholic"
        weight: 10

